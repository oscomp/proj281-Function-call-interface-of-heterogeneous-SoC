# proj281-Function-call-interface-of-heterogeneous-SoC
## 标题

面向异构SoC的函数调用接口设计

## 项目描述

软硬件结合的异构SoC或FPGA+CPU的异构系统是未来发展方向之一，已有许多产品被用于数据中心等场景进行算法加速。比如Xilinx公司的FPGA+ARM架构SoC，Intel公司的可扩展处理器、苹果公司最新研发的头戴式VR设备Vision Pro也采用了异构系统的方式处理不同需求的数据流。软件（CPU、GPU）与硬件（如FPGA）擅长处理的数据有很大的不同，并行性、时间精度控制上也有较大的差异。但想充分利用好系统中的软硬件资源需要协同软硬件开发人员，研发难度较高。一方面，异构计算套件通常面向软件开发人员进行设计，提供的是软件接口。从硬件开发人员的角度来看，若不针对性的开发软件进行适配则难以充分利用CPU资源。但从整体的角度来看，交互的方式通常都类似，如果每一次都需要软硬件协同开发则会影响效率提高成本。另一方面，软硬件的交互方式较为单一，在硬件中想要使用软件资源，通常只能采用等待的方式，造成流水线断流，不适用于持续大数据流的应用。如何解决上述问题，以低成本的方式将软硬件两者的优势结合可以提高异构SoC的资源利用率，降低产品成本。
 


## 预期目标

1、在FPGA上使用软核MicroBlaze与自定义的FPGA模块进行通信，完成基本通信功能
2、在MicroBlaze中使用C语言实现一个8\*8矩阵的DCT计算函数，在FPGA模块中向MicroBlaze请求DCT计算，将数据传递给C函数并进行计算，C函数返回运算结果通过通信接口传递给FPGA模块
3、评测FPGA与C语言实现的DCT计算模块占用的资源和消耗时间
4、定义交互接口，实现“FPGA模块调用CPU中C语言编写的函数”接口
5、定义交互接口，实现“软件透明调用FPGA模块功能”接口

## 特征

> 描述项目的特征。 例如：

1. CPU中断响应的实时性问题：当FPGA端作为主体向CPU请求服务后，FPGA端无法在硬件的时间精度上获得CPU服务的返回时间，则只能采用等待的方式进行，会中断流水线，大幅减慢硬件端工作流。
2. 基于中断的等待交互方式难以满足FPGA上流水线的时间精度造成断流，传统操作系统追求通用性牺牲处理精度，难以满足大数据流水的处理需求。
3. 在一些大数据量的嵌入式应用中，通常不需要复杂的操作系统满足通用功能的需求，而只需要针对特定需求进行开发。
4. 文档、代码、问题、答疑交互过程都开放和开源的
5. 支持Xilinx公司的异构SoC（如zynq7000等）。


## 已有参考资料

无

## 赛题分类

系统调试/支撑库的设计

## 参赛要求

- 以小组为单位参赛，最多三人一个小组，且小组成员是来自同一所高校的本科生或研究生
- 允许学生参加大赛的多个不同题目，最终自己选择一个题目参与评奖
- 请遵循“2024全国大学生操作系统比赛”的章程和技术方案要求

## 难度

高等

## License

GPL-3.0 License

## 所属赛道

2024全国大学生操作系统比赛的“OS功能挑战”赛道

## 项目导师

- 姓名：吴竞邦
- 单位：北京工商大学
- github ID：[https://github.com/wujingbang](https://github.com/wujingbang)
- email：[wujingbang@btbu.edu.cn](mailto:wujingbang@btbu.edu.cn)
